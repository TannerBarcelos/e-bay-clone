(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[0],{27:function(e,t,a){},37:function(e,t,a){},43:function(e,t,a){e.exports=a(73)},52:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),i=a(18),u=a(2),o=(a(27),a(11)),m=a(12),s=a(14),d=a(13),p=a(7),b=(a(52),a(39)),h=a(16),f=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(b.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.getSearch(n.state.search)},n.state={search:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("form",{className:"example",onSubmit:this.handleSubmit},r.a.createElement("div",{id:"inp",className:"input-group mb-3",style:{width:"70vw",margin:"auto"}},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search","aria-label":"Recipient's username","aria-describedby":"button-addon2",id:"searchQuery",name:"search",value:this.state.currentChar,onChange:this.handleChange}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:this.handleSubmit},"Search")))))}}]),a}(n.Component),y=a(23),E=a.n(y),v=a(40),g=a(41),O=a.n(g);a(37);var N=Object(p.b)((function(e){return{cart:e.currentCart}}),{addToCart:function(e){return{type:"ADD_TO_CART",payload:e}}})((function(e){var t={title:e.item.title,price:e.item.sellingStatus[0].currentPrice[0].__value__,img:e.item.galleryURL,ebay_link:e.item.viewItemURL,_id:e.item.itemId+Math.random(),qty:1};return r.a.createElement("div",{className:"card",style:{width:"17rem"}},r.a.createElement("img",{src:t.img,alt:t.title+" image",className:"img-thumbnail"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.title),r.a.createElement("a",{href:t.ebay_link,target:"_blank",rel:"noopener noreferrer"},"No image? See me on ebay"),r.a.createElement("p",null,"$",t.price),r.a.createElement("div",{className:"bottom-btn"},r.a.createElement("button",{href:"#",className:"btn btn-primary",onClick:function(){return e.addToCart(t)}},"Add to cart"))))})),_=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getSearch=function(t){if(""===t)return alert("Please enter a value");e.props.populateItemStore(t)},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{getSearch:this.getSearch}),r.a.createElement("div",{className:"contain"},this.props.search.map((function(e,t){return r.a.createElement(N,{key:t,item:e})}))))}}]),a}(n.Component),j=Object(p.b)((function(e){return{search:e.data}}),{populateItemStore:function(e){return function(){var t=Object(v.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("/search",{search_:e});case 2:n=t.sent,a({type:"POPULATE_STORE",payload:n.data.body.findItemsByKeywordsResponse[0].searchResult[0].item});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(_);var C={addAnother:function(e){return{type:"ADD_ANOTHER",payload:e}},subtractAnother:function(e){return{type:"SUBTRACT_ANOTHER",payload:e}},clearItem:function(e){return{type:"CLEAR_ITEM",payload:e}}},A=Object(p.b)((function(e){return{cart:e.currentCart}}),C)((function(e){return r.a.createElement("div",{className:"card",style:{width:"17rem"}},r.a.createElement("span",null,"Qty: ",e.items.qty),r.a.createElement("img",{src:e.items.img,alt:e.items.title+" alias",className:"img-thumbnail"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.items.title),r.a.createElement("a",{href:e.items.ebay_link,target:"_blank",rel:"noopener noreferrer"},"No image? See me on ebay"),r.a.createElement("p",null,"$",e.items.price),r.a.createElement("div",{className:"bottom-btn"},r.a.createElement("button",{href:"#",className:"btn btn-primary",style:{marginLeft:"3px"},onClick:function(){return e.subtractAnother(e.items)}},"-"),r.a.createElement("button",{href:"#",className:"btn btn-primary",style:{marginLeft:"3px"},onClick:function(){return e.addAnother(e.items)}},"+"),r.a.createElement("button",{href:"#",className:"btn btn-primary",style:{marginLeft:"3px"},onClick:function(){return e.clearItem(e.items)}},"clear"))))})),S=(a(71),a(15)),k=0,T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return k+=Number(t.payload.price),[].concat(Object(S.a)(e),[t.payload]);case"ADD_ANOTHER":var a=e.find((function(e){return e._id===t.payload._id}));return a.qty+=1,k+=Number(t.payload.price),Object(S.a)(e);case"SUBTRACT_ANOTHER":var n=e.find((function(e){return e._id===t.payload._id}));return 1===n.qty?(k-=Number(t.payload.price),Object.assign([],e.filter((function(e){return e._id!==t.payload._id})))):(k-=Number(t.payload.price),n.qty-=1,Object(S.a)(e));case"CLEAR_ITEM":var r=e.find((function(e){return e._id===t.payload._id}));return k-=t.payload.price*t.payload.qty,Object.assign([],e.filter((function(e){return e._id!==r._id})));default:return e}},R=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"cartItemsDiv"},r.a.createElement("h3",null,"Current Cart"),r.a.createElement("p",null,"total: $",k.toFixed(2)),r.a.createElement("div",{className:"card-container"},this.props.cartItems.map((function(e,t){return r.a.createElement(A,{key:t,items:e})}))))}}]),a}(n.Component),I=Object(p.b)((function(e){return{cartItems:e.currentCart}}),null)(R),w=Object(p.b)((function(e){return{cart:e.currentCart}}))((function(e){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("ul",{className:"ul-nav-container"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",id:"links"},"fakebay")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/cart",id:"float-right-links"},r.a.createElement("i",{className:"fas fa-shopping-cart","data-count":e.cart.length}))))))}));var x=function(){return r.a.createElement("div",{className:"App"}," "," ",r.a.createElement(i.a,null," "," ",r.a.createElement(w,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",component:j,exact:!0}),r.a.createElement(u.a,{path:"/cart",component:I,exact:!0}))," ")," ")},D=a(42),L=a(9),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"POPULATE_STORE"===t.type?Object(S.a)(t.payload):e},P=Object(L.c)({data:q,currentCart:T}),U=Object(L.d)(P,Object(L.a)(D.a));l.a.render(r.a.createElement(p.a,{store:U},r.a.createElement(x,null)),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.616e01ac.chunk.js.map